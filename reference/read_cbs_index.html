<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function is a wrapper around readxl::read_excel(), reading a specific
CBS index data file for a specific year and a specific data domain. Its added
value is in its pre-defined parameters for every year and its specific quirks
in the Excel headers. For advanced users,the full set of options is available
with il.cbs.muni:::df_cbs_index_params."><title>Read a CBS index data file to a tibble — read_cbs_index • il.cbs.muni</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read a CBS index data file to a tibble — read_cbs_index"><meta property="og:description" content="This function is a wrapper around readxl::read_excel(), reading a specific
CBS index data file for a specific year and a specific data domain. Its added
value is in its pre-defined parameters for every year and its specific quirks
in the Excel headers. For advanced users,the full set of options is available
with il.cbs.muni:::df_cbs_index_params."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">il.cbs.muni</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/matanhakim/il.cbs.muni/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Read a CBS index data file to a tibble</h1>
      <small class="dont-index">Source: <a href="https://github.com/matanhakim/il.cbs.muni/blob/HEAD/R/read_cbs_index.R" class="external-link"><code>R/read_cbs_index.R</code></a></small>
      <div class="d-none name"><code>read_cbs_index.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is a wrapper around <code><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">readxl::read_excel()</a></code>, reading a specific
CBS index data file for a specific year and a specific data domain. Its added
value is in its pre-defined parameters for every year and its specific quirks
in the Excel headers. For advanced users,the full set of options is available
with <code>il.cbs.muni:::df_cbs_index_params</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_cbs_index</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  <span class="va">year</span>,</span>
<span>  index_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ses"</span>, <span class="st">"peri"</span><span class="op">)</span>,</span>
<span>  unit_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"muni"</span>, <span class="st">"yishuv"</span>, <span class="st">"sa"</span><span class="op">)</span>,</span>
<span>  cols <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>path</dt>
<dd><p>A character vector of length 1, denoting the local file path to the
CBS index data file. A full list of available files by the CBS is at the
relevant CBS page for either <a href="https://www.cbs.gov.il/he/subjects/Pages/%D7%9E%D7%93%D7%93-%D7%97%D7%91%D7%A8%D7%AA%D7%99-%D7%9B%D7%9C%D7%9B%D7%9C%D7%99-%D7%A9%D7%9C-%D7%94%D7%A8%D7%A9%D7%95%D7%99%D7%95%D7%AA-%D7%94%D7%9E%D7%A7%D7%95%D7%9E%D7%99%D7%95%D7%AA.aspx" class="external-link">Socio-Economic Status (SES)</a>
or for <a href="https://www.cbs.gov.il/he/subjects/Pages/%D7%9E%D7%93%D7%93-%D7%A4%D7%A8%D7%99%D7%A4%D7%A8%D7%99%D7%90%D7%9C%D7%99%D7%95%D7%AA-%D7%A9%D7%9C-%D7%A8%D7%A9%D7%95%D7%99%D7%95%D7%AA-%D7%9E%D7%A7%D7%95%D7%9E%D7%99%D7%95%D7%AA.aspx" class="external-link">peripheral level</a>.</p></dd>


<dt>year</dt>
<dd><p>A numeric vector of length 1 denoting which year the data file
pointed in <code>path</code> is for. Be aware that the year in question is the year
** the data is for**, not the year <strong>the data was published in</strong>.</p></dd>


<dt>index_type</dt>
<dd><p>A character vector of length 1, one of <code>c("ses", "peri")</code>.</p></dd>


<dt>unit_type</dt>
<dd><p>A character vector of length 1, one of <code>c("muni", "yishuv", "sa")</code>.</p><ul><li><p><code>"muni"</code> - every row is a municipality.</p></li>
<li><p><code>"yishuv"</code> - every row is a yishuv. In some years and indices this includes all yishuvim,
in others only yishuvim within regional councils.</p></li>
<li><p><code>"sa"</code> - every row is a statistical are within a city or local council.</p></li>
</ul></dd>


<dt>cols</dt>
<dd><p>&lt;<a href="https://dplyr.tidyverse.org/reference/dplyr_tidy_select.html" class="external-link">tidy-select</a>&gt;
Columns to keep. The default <code>NULL</code> keeps all columns.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A tibble with CBS index data for a specific year, where every row is a
<code>unit_type</code> and every column is a different variable for this <code>unit_type</code> in
that year. Be advised all columns are of type character, so you need to parse
the data types yourself at will. Column names are merged from the relevant headers,
and only single whitespaces are kept. Rows with more than 90% empty cells (usually
rows with non-data notes) are removed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">read_cbs_index</span><span class="op">(</span></span></span>
<span class="r-in"><span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"24_22_375t1.xlsx"</span>, package <span class="op">=</span> <span class="st">"il.cbs.muni"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  year <span class="op">=</span> <span class="fl">2019</span>,</span></span>
<span class="r-in"><span>  index_type <span class="op">=</span> <span class="st">"ses"</span>,</span></span>
<span class="r-in"><span>  unit_type <span class="op">=</span> <span class="st">"muni"</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rows: 255</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns: 12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `מעמד מוניציפלי_MUNICIPAL STATUS`                                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `סמל יישוב_CODE OF LOCALITY`                                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `שם רשות מקומית`                                                                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ מחוז_DISTRICT                                                                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `אוכלוסיית המדד 2019[1]_INDEX POPULATION 2019[1]`                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `ערך מדד 2019[2]_INDEX VALUE 2019[2]`                                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `דירוג 2019[3]_RANK 2019[3]`                                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `אשכול 2019[4]_CLUSTER 2019[4]`                                                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `דירוג 2017[3]_RANK 2017[3]`                                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `אשכול 2017[4]_CLUSTER 2017[4]`                                                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `הפרש (אשכול 2019 פחות אשכול 2017)_DIFFERENCE (CLUSTER 2019 MINUS CLUSTER 2017)` <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ `NAME OF LOCAL AUTHORITY`                                                        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> …</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Matan Hakim.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

